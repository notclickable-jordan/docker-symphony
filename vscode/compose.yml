services:
  backup:
    image: alpine:3.17.2
    container_name: vscode_backup
    entrypoint: "tail -f /dev/null"
    volumes:
      - config:/config
    restart: always

  vscode:
    image: linuxserver/code-server:4.11.0
    container_name: vscode
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
      - DEFAULT_WORKSPACE=/config/workspace
    volumes:
      - config:/config
      - ../:/config/workspace
    ports:
      - 8120:8443
    restart: always

volumes:
  config: