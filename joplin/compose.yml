services:
    app:
      image: joplin/server:2.10.10-beta
      container_name: joplin_app
      depends_on:
          - db
      ports:
          - 8060:22300
      restart: always
      env_file: env.app
      networks:
          - joplin

    db:
      image: postgres:15
      container_name: joplin_db
      volumes:
          - data:/var/lib/postgresql/data
      ports:
          - 8061:5432
      restart: always
      env_file: env.db
      networks:
          - joplin

networks:
  joplin:

volumes:
    data: